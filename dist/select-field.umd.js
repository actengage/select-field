(function(d,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(d=typeof globalThis<"u"?globalThis:d||self,i(d.SelectField={},d.Vue))})(this,function(d,i){"use strict";/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var _=function(){return _=Object.assign||function(t){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},_.apply(this,arguments)};function z(e){return e.toLowerCase()}var x=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],N=/[^A-Z0-9]+/gi;function O(e,t){t===void 0&&(t={});for(var s=t.splitRegexp,n=s===void 0?x:s,r=t.stripRegexp,a=r===void 0?N:r,c=t.transform,g=c===void 0?z:c,o=t.delimiter,C=o===void 0?" ":o,l=S(S(e,n,"$1\0$2"),a,"\0"),u=0,h=l.length;l.charAt(u)==="\0";)u++;for(;l.charAt(h-1)==="\0";)h--;return l.slice(u,h).split("\0").map(g).join(C)}function S(e,t,s){return t instanceof RegExp?e.replace(t,s):t.reduce(function(n,r){return n.replace(r,s)},e)}function j(e,t){return t===void 0&&(t={}),O(e,_({delimiter:"."},t))}function y(e,t){return t===void 0&&(t={}),j(e,_({delimiter:"-"},t))}class ${constructor(t={}){this.components=new Map,Object.entries(t).forEach(([s,n])=>{this.register(s,n)})}get(t){const s=this.components.get(t=y(t));if(s)return s;throw new Error(`"${t}" has not been registered yet!`)}register(t,s){return typeof t=="object"?(Object.entries(t).forEach(([n,r])=>{this.register(y(n),r)}),this):(this.components.set(y(t),s),this)}remove(t){return this.components.delete(y(t)),this}reset(){return this.components=new Map,this}}function T(...e){return new $(...e)}const E=T(),te="",k=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s};function p(e,t="px"){return e!=null&&e!==!1&&isFinite(e)?`${e}${t}`:e}const L={name:"ActivityIndicator",props:{absolute:Boolean,center:Boolean,label:String,size:{type:String,default:"md"},registry:{type:$,default(){return E}},type:{type:String,required:!0},height:[String,Number],maxHeight:[String,Number],minHeight:[String,Number],width:[String,Number],maxWidth:[String,Number],minWidth:[String,Number]},data:()=>({is:null}),computed:{classes(){return{"activity-indicator-center":this.center,"activity-indicator-absolute":this.absolute,[this.size&&`activity-indicator-${this.size}`]:!!this.size}},style(){return{width:p(this.width),maxWidth:p(this.maxWidth),minWidth:p(this.minWidth),height:p(this.height),maxHeight:p(this.maxHeight),minHeight:p(this.minHeight)}}},async mounted(){const e=await this.component();this.is=()=>e},methods:{async component(){let e=E.get(this.type);return e instanceof Promise?e:(typeof e=="function"&&(e=await e()),e.default?e.default:e)}}},P={class:"activity-indicator-content"},R={key:1,class:"activity-indicator-label"};function I(e,t,s,n,r,a){return i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(["activity-indicator",a.classes]),style:i.normalizeStyle(a.style)},[i.createElementVNode("div",P,[e.is?(i.openBlock(),i.createBlock(i.resolveDynamicComponent(e.is()),{key:0,class:"mx-auto"})):i.createCommentVNode("",!0),s.label?(i.openBlock(),i.createElementBlock("div",R,i.toDisplayString(s.label),1)):i.createCommentVNode("",!0)])],6)}const V=k(L,[["render",I]]),ie="",se="",ne="",re="",ae="",oe="",le="",de="",ce="",ue="",he="",pe="",fe="",me="",f={};function m(...e){if(!e.length)return f;const[t,s]=e;return typeof t=="string"?typeof f[t]<"u"?f[t]:s:Array.isArray(t)?t.reduce((n,r)=>Object.assign(n,{[r]:f[r]}),{}):Object.assign(f,...e)}var D={props:{dropShadow:[Boolean,String],dropShadowableClassPrefix:{type:String,default:"drop-shadow"},shadow:[Boolean,String],shadowableClassPrefix:{type:String,default:"shadow"}},computed:{shadowableClass(){const e=this.dropShadow===!0?"":this.dropShadow&&`-${this.dropShadow}`,t=this.shadow===!0?"":this.shadow&&`-${this.shadow}`;return{[`${this.dropShadowableClassPrefix}${e}`]:!!this.dropShadow,[`${this.shadowableClassPrefix}${t}`]:!!this.shadow}}}},v=function(){return v=Object.assign||function(t){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},v.apply(this,arguments)};function H(e){return e.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Z=/[^A-Z0-9]+/gi;function q(e,t){t===void 0&&(t={});for(var s=t.splitRegexp,n=s===void 0?M:s,r=t.stripRegexp,a=r===void 0?Z:r,c=t.transform,g=c===void 0?H:c,o=t.delimiter,C=o===void 0?" ":o,l=w(w(e,n,"$1\0$2"),a,"\0"),u=0,h=l.length;l.charAt(u)==="\0";)u++;for(;l.charAt(h-1)==="\0";)h--;return l.slice(u,h).split("\0").map(g).join(C)}function w(e,t,s){return t instanceof RegExp?e.replace(t,s):t.reduce(function(n,r){return n.replace(r,s)},e)}function G(e,t){return t===void 0&&(t={}),q(e,v({delimiter:"."},t))}function F(e,t){return t===void 0&&(t={}),G(e,v({delimiter:"-"},t))}function b(e,t,s="-"){const n=t.toString().replace(new RegExp(`^${e}${s}?`),"");return[F(n),e].filter(r=>!!r).join(s)}function A(e){return!Array.isArray(e)&&typeof e=="object"}function B(e){return e===void 0}const W={directives:{bindEvents:{beforeMount(e,t,s){t.instance.bindEvents(e)}}},mixins:[D],inheritAttrs:!1,props:{activity:{type:Boolean,default:!1},animated:{type:Boolean,default:()=>m("animated",!1)},nativeEvents:{type:Array,default(){return["focus","blur","change","click","keypress","keyup","keydown","progress","paste"]}},defaultControlClass:{type:String,default:()=>m("defaultControlClass","form-control")},error:[String,Array,Boolean],errors:{type:[Array,Object,Boolean],default(){return{}}},feedback:[String,Array],group:{type:Boolean,default:()=>m("group",!0)},helpText:[Number,String],hideLabel:Boolean,indicator:{type:String,default:()=>m("indicator","spinner")},indicatorSize:String,inline:Boolean,invalid:Boolean,label:[Number,String],labelClass:{type:[Object,String],default:()=>m("labelClass","form-label")},modelValue:{default:void 0},pill:Boolean,plaintext:Boolean,size:String,spacing:String,valid:Boolean},data(){return{defaultEmpty:!1,hasChanged:!1,hasFocus:!1,isEmpty:!0}},computed:{id(){return this.$attrs.id||this.$attrs.name||(Math.random()+1).toString(36).substring(7)},componentName(){return this.$options.name},controlAttributes(){return Object.fromEntries(Object.entries(this.$attrs).concat([["id",this.id],["class",this.controlClasses]]))},controlClass(){return this.defaultControlClass},controlSizeClass(){return b(this.size,this.controlClass)},formGroupClasses(){return{[F(this.componentName)]:!!this.componentName,[this.size&&b(this.size,this.componentName)]:!!this.size,animated:this.animated,"default-empty":this.defaultEmpty,"form-group":this.group,[this.size&&b(this.size,"form-group")]:!!this.size,"has-activity":this.activity,"has-changed":this.hasChanged,"has-focus":this.hasFocus,"has-icon":!!this.$slots.icon,"is-empty":this.isEmpty,"is-invalid":!!(this.invalid||this.invalidFeedback),"is-valid":!!(this.valid||this.validFeedback),[this.$attrs.class]:!!this.$attrs.class,[this.$attrs.id]:!!this.$attrs.id}},controlClasses(){return Object.assign({[this.controlClass]:!!this.controlClass,[this.controlSizeClass]:!!this.controlSizeClass,"form-control-icon":!!this.$slots.icon,"is-valid":!!(this.valid||this.validFeedback),"is-invalid":!!(this.invalid||this.invalidFeedback),[this.pillClasses]:this.pill,[this.plaintextClass]:this.plaintext,[this.spacing]:!!this.spacing},this.shadowableClass)},hasDefaultSlot(){return!!this.$slots.default},invalidFeedback(){if(this.error==="")return null;if(this.error)return this.error;const e=this.getFieldErrors();return Array.isArray(e)?e.filter(t=>t&&typeof t=="string").join("<br>"):e},pillClasses(){return"rounded rounded-pill"},plaintextClass(){return"form-control-plaintext"},validFeedback(){return Array.isArray(this.feedback)?this.feedback.join("<br>"):this.feedback}},watch:{hasFocus(){this.shouldChangeOnFocus()&&(this.hasChanged=!0)},defaultEmpty(){this.hasChanged=!0}},methods:{bindEvents(e,t){t||(t=this.onInput);const s=e.querySelectorAll("option")[e.selectedIndex];B(this.modelValue)?B(s)||(e.value=s.value):e.value=this.modelValue,e.value&&t(e.value),this.hasChanged=!!e.value,this.isEmpty=!e.value,e.addEventListener("focus",()=>{this.hasFocus=!0}),e.addEventListener("blur",()=>{this.hasFocus=!1}),e.addEventListener("input",n=>{this.isEmpty=!1,this.hasChanged=!0}),e.addEventListener(e.tagName==="SELECT"?"change":"input",()=>t(e.value)),this.nativeEvents.forEach(n=>{e.addEventListener(n,r=>{this.$emit(n,r)})})},blur(){this.getInputField()&&this.getInputField().blur()},focus(){this.getInputField()&&this.getInputField().focus()},getInputField(){return this.$el.querySelector(".form-control, input, select, textarea")},getFieldErrors(){let e=this.error||this.errors;return this.errors&&A(this.errors)&&(e=this.errors[this.$attrs.name||this.$attrs.id]),!e||Array.isArray(e)||A(e)?e:[e]},shouldChangeOnFocus(){return!this.getInputField().readOnly},onInput(e){this.$emit("update:modelValue",e)}}},ge="",U={name:"SelectField",components:{ActivityIndicator:V},mixins:[W],props:{defaultControlClass:{type:String,default:"form-select"}},computed:{controlClass(){return this.plaintext?`${this.defaultControlClass}-plaintext`:this.defaultControlClass}},mounted(){},methods:{shouldChangeOnFocus(){return!1}}},X=["for","innerHTML"],J={class:"form-group-inner"},K=["innerHTML"],Q=["innerHTML"];function Y(e,t,s,n,r,a){const c=i.resolveComponent("activity-indicator"),g=i.resolveDirective("bind-events");return i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(e.formGroupClasses)},[i.renderSlot(e.$slots,"label",{},()=>[e.label?(i.openBlock(),i.createElementBlock("label",{key:0,ref:"label",for:e.id,class:i.normalizeClass(e.labelClass),onClick:t[0]||(t[0]=(...o)=>e.focus&&e.focus(...o)),innerHTML:e.label},null,10,X)):i.createCommentVNode("",!0)]),i.createElementVNode("div",J,[i.renderSlot(e.$slots,"control",{bindEvents:e.bindEvents,controlAttributes:e.controlAttributes,focus:e.focus},()=>[e.$slots.icon?(i.openBlock(),i.createElementBlock("div",{key:0,class:"form-group-inner-icon",onClick:t[1]||(t[1]=(...o)=>e.focus&&e.focus(...o))},[i.renderSlot(e.$slots,"icon")])):i.createCommentVNode("",!0),i.withDirectives((i.openBlock(),i.createElementBlock("select",i.mergeProps({ref:"field"},Object.assign({disabled:e.$attrs.readonly},e.controlAttributes)),[i.renderSlot(e.$slots,"default")],16)),[[g]])]),i.renderSlot(e.$slots,"activity",{},()=>[i.createVNode(i.Transition,{name:"select-field-fade"},{default:i.withCtx(()=>[e.activity?(i.openBlock(),i.createBlock(c,{key:"activity",ref:"activity",type:e.indicator,size:e.indicatorSize||e.size},null,8,["type","size"])):i.createCommentVNode("",!0)]),_:1})])]),i.renderSlot(e.$slots,"feedback",{},()=>[e.invalidFeedback?(i.openBlock(),i.createElementBlock("div",{key:0,class:"invalid-feedback",invalid:"",innerHTML:e.invalidFeedback},null,8,K)):e.validFeedback?(i.openBlock(),i.createElementBlock("div",{key:1,class:"valid-feedback",valid:"",innerHTML:e.validFeedback},null,8,Q)):i.createCommentVNode("",!0)]),i.renderSlot(e.$slots,"help",{},()=>[e.helpText?(i.openBlock(),i.createElementBlock("small",{key:0,ref:"help"},i.toDisplayString(e.helpText),513)):i.createCommentVNode("",!0)])],2)}const ee=k(U,[["render",Y]]);d.SelectField=ee,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
